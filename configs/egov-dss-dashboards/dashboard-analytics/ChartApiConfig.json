{
  "_comment": "Starts Common Charts, applied across module",
  "totalApplication": {
    "chartName": "DSS_TOTAL_APPLICATION",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "dateRefField": "Data.@timestamp"
      },
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantId\" \r\n}",
        "dateRefField": "Data.tradelicense.applicationdate"
      },
      {
        "module": "PGR",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "dateRefField": "Data.dateOfComplaint"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "closedApplication": {
    "chartName": "DSS_CLOSED_APPLICATION",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Closed Application"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "citizenRegistered": {
    "chartName": "DSS_CITIZEN_REGISTERED",
    "queries": [
      {
        "module": "PGR",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Citizen Registered\":{\"terms\":{\"field\":\"Data.citizen.uuid.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"Data.citizen.uuid.keyword\"}}}}}}",
        "requestQueryMap": "{\"district\" : \"Data.tenantData.city.districtCode\", \"tenantId\" : \"Data.tenantId\", \"status\" : \"Data.status\"}",
        "dateRefField": "Data.dateOfComplaint"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Citizen Registered"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "totalApplicationDeptWise": {
    "chartName": "DSS_TOTAL_APPLICATIONS:_DEPARTMENT_WISE",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Property Tax\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Trade Licence\":{\"value_count\":{\"field\":\"Data.tradelicense.tenantid.keyword\"}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"PGR\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Property Tax",
      "Trade Licence",
      "PGR"
    ],
    "insight": {
    },
    "_comment": " totalApplication is the chartId"
  },
  "totalApplication&ClosedApplication": {
    "chartName": "DSS_TOTAL_APPLICATION_&_CLOSED_APPLICATION",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyId.keyword\"}}}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}}}"
      },
      {
        "module": "PGR",
        "dateRefField": "Data.@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tenantId\" \r\n}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Closed Application\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Applications Closed\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}}}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Total Application",
      "Closed Application"
    ],
    "isCumulative": false,
    "interval": "month",
    "insight": {
    },
    "_comment": " "
  },
  "cumulativeCollection": {
    "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
    "queries": [
      {
        "module": "COMMON",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "requestQueryMap": "{\r\n  \"module\" : \"Data.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"Data.Bill.billDetails.receiptDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "amount",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Collections"
    ],
    "isCumulative": true,
    "interval": "month",
    "insight": {
    },
    "_comment": " "
  },
  "targetCollection": {
    "chartName": "DSS_TARGET_COLLECTION",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "amount",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Target Collection"
    ],
    "isDayUnit": true,
    "postAggregationTheory" : "repsonseToDifferenceOfDates",
    "insight": {
    },
    "_comment": " "
  },
  "targetAchieved": {
    "chartName": "DSS_TARGET_ACHIEVED",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Actual collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"district\" : \"dataObject.tenantData.cityDistrictCode\", \"module\" : \"Data.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"terms\":{\"Data.Bill.billDetails.businessService.keyword\":[\"TL\"],\"boost\":1.0}}],\"adjust_pure_negative\":true,\"boost\":1.0}},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}"
      }

    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Total Collection",
      "Actual collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "totalCollection": {
    "chartName": "DSS_TOTAL_COLLECTION",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"PT\"}},\"aggs\":{\"Tot Collection\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"TL\"}},\"aggs\":{\"Tot Collection\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "todaysCollection": {
    "chartName": "DSS_TOTAL_COLLECTION_TODAY",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"filtered\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"PT\"}},{\"range\":{\"Date.@timestamp\":{\"gte\":\"now-24h\",\"lte\":\"now\"}}}]}},\"aggs\":{\"tenant_count\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      },
      {
        "module": "TL",
        "dateRefField": "",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"filtered\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"TL\"}},{\"range\":{\"Date.@timestamp\":{\"gte\":\"now-24h\",\"lte\":\"now\"}}}]}},\"aggs\":{\"tenant_count\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "todaysCollectionPT": {
    "chartName": "DSS_TOTAL_COLLECTION_TODAY",
    "queries": [
      {
        "module": "PT",
        "dateRefField": "",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"filtered\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"PT\"}},{\"range\":{\"Date.@timestamp\":{\"gte\":\"now-24h\",\"lte\":\"now\"}}}]}},\"aggs\":{\"tenant_count\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "todaysCollectionTL": {
    "chartName": "DSS_TOTAL_COLLECTION_TODAY",
    "queries": [
      {
        "module": "TL",
        "dateRefField": "",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"filtered\":{\"filter\":{\"bool\":{\"must\":[{\"term\":{\"Data.Bill.billDetails.businessService.keyword\":\"TL\"}},{\"range\":{\"Date.@timestamp\":{\"gte\":\"now-24h\",\"lte\":\"now\"}}}]}},\"aggs\":{\"tenant_count\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": " "
  },

  "totalCollectionDeptWise": {
    "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION:_DEPARTMENT_WISE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Department\":{\"filter\":{\"terms\":{\"Data.Bill.billDetails.businessService.keyword\":[\"PT\",\"TL\"]}},\"aggs\":{\"Business Service\":{\"terms\":{\"field\":\"Data.Bill.billDetails.businessService.keyword\"},\"aggs\":{\"total\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "Amount",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Business Service"
    ],
    "insight": {
    },
    "_comment": " "
  },
  "topPerformingUlbs": {
    "chartName": "DSS_PT_TOP_3_PERFORMING_ULBS",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"tenantIdForMunicipalCorporation\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"Data.Bill.billDetails.businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"desc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "DSS_TARGET_ACHIEVED",
    "order": "desc",
    "limit": 3,
    "aggregationPaths": [
      "Total Collection","Target Collection"
    ],
    "insight": {
    },
    "_comment": " Top Performing Ulbs for target achieved"
  },
  "bottomPerformingUlbs": {
    "chartName": "DSS_PT_BOTTOM_3_PERFORMING_ULBS",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"tenantIdForMunicipalCorporation\" }",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"Data.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\" }",
        "dateRefField": "Data.Bill.billDetails.receiptDate",
        "indexName": "collectionsindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":\"200\",\"order\":{\"Sum\":\"asc\"}},\"aggs\":{\"Sum\":{\"sum\":{\"field\":\"Data.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "DSS_TARGET_ACHIEVED",
    "order": "asc",
    "limit": 3,
    "aggregationPaths": [
      "Total Collection", "Target Collection"
    ],
    "insight": {
    },
    "_comment": " Bottom Performing Ulbs for target achieved"
  },
  "topPerformingUlbsCompletionRate": {
    "chartName": "DSS_PT_TOP_3_PERFORMING_ULBS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" , \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"order\":{\"_key\":\"asc\"},\"size\":100},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "PT",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.propertyId.keyword\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "TL",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantData.code\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.tradelicense.applicationdate",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.tradelicense.issueddate\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantData.code.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}},\"Total Application\":{\"filter\":{\"exists\":{\"field\":\"Data.tradelicense.applicationdate\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantData.code.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "DSS_COMPLETION_RATE",
    "order": "desc",
    "limit": 3,
    "aggregationPaths": [
      "Closed Application",
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " Top Performing Ulbs for Completion rate"
  },
  "bottomPerformingUlbsCompletionRate": {
    "chartName": "DSS_PT_BOTTOM_3_PERFORMING_ULBS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" , \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"term\":{\"Data.status.keyword\":\"resolved\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "PT",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.propertyId.keyword\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Total Application\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "TL",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\",\"tenantId\" : \"Data.tenantData.code\" ,  \"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.tradelicense.applicationdate",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Application\":{\"filter\":{\"exists\":{\"field\":\"Data.tradelicense.issueddate\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantData.code.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}},\"Total Application\":{\"filter\":{\"exists\":{\"field\":\"Data.tradelicense.applicationdate\"}},\"aggs\":{\"count\":{\"terms\":{\"field\":\"Data.tenantData.code.keyword\"},\"aggs\":{\"tenant_count\":{\"value_count\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}}}}"
      }
    ],
    "chartType": "perform",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "plotLabel": "DSS_COMPLETION_RATE",
    "order": "asc",
    "limit": 3,
    "aggregationPaths": [
      "Closed Application",
      "Total Application"
    ],
    "insight": {
    },
    "_comment": " Bottom Performing Ulbs for Completion rate"
  },
  "collectionByUsageType": {
    "chartName": "DSS_PT_COLLECTION_BY_USAGE_TYPE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "amount",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Usage Type"
    ],
    "insight": {
    },
    "_comment": " collection/amount per usage type"
  },
  "propertiesByUsageType": {
    "chartName": "DSS_PT_PROPERTIES_BY_USAGE_TYPE",
    "queries": [
      {
        "module": "PT",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"Data.propertyDetails.units.usageCategoryMajor.keyword\"},\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Usage Type"
    ],
    "insight": {
    },
    "_comment": " properties having assessmentNumber per usage type"
  },
  "propertiesAssessed": {
    "chartName": "DSS_PT_TOTAL_PROPERTIES_ASSESSED",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Assessed Properties\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Assessed Properties"
    ],
    "insight": {
    },
    "_comment": " totol properties having assessmentNumber "
  },
  "cumulativePropertiesAssessed": {
    "chartName": "DSS_PT_CUMULATIVE_PROPERTIES_ASSESSED",
    "queries": [
      {
        "module": "PT",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Collections\":{\"date_histogram\":{\"field\":\"Data.propertyDetails.assessmentDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.propertyDetails.assessmentNumber.keyword\"}}}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.@timestamp"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Collections"
    ],
    "isCumulative": true,
    "interval": "week",
    "insight": {
    },
    "_comment": " totol properties having assessmentNumber "
  },
  "activeUlbs": {
    "chartName": "DSS_PT_TOTAL_ACTIVE_ULBS",
    "queries": [
      {
        "module": "PT",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.@timestamp",
        "indexName": "ptindex-v1",
        "aggrQuery": "{\"aggs\":{\"Active ULBs\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"Data.tenantId.keyword\"}}}}}}"
      },
      {
        "module": "TL",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantData.code\"}",
        "dateRefField": "Data.tradelicense.applicationdate",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Active ULBs\":{\"terms\":{\"field\":\"Data.tenantData.code.keyword\"},\"aggs\":{\"type_count\":{\"cardinality\":{\"field\":\"Data.tenantData.code.keyword\"}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Active ULBs"
    ],
    "insight": {
    },
    "_comment": " total ULBs count"
  },

  "_comment": "PT Tax heads Boundary below",
  "taxHeadsBreakupDDRRevenue": {
    "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
      }
    ],
    "isMdmsEnabled": true,
    "filterKeys": [
      {"key": "tenantId", "column": "DDRs"}

    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "taxHeadsBreakupRevenue",
    "isPostResponseHandler": true,
    "documentType": "_doc",
    "action": "",
    "plotLabel": "DDRs",
    "aggregationPaths": [
      "Total Amount",
      "PT Tax",
      "Fire Cess",
      "Cancer Cess",
      "Rebate",
      "Penalty"
    ],
    "pathDataTypeMapping": [
      {
        "Total Amount": "amount"
      },
      {
        "PT Tax": "amount"
      },
      {
        "Fire Cess": "amount"
      },
      {
        "Cancer Cess": "amount"
      },
      {
        "Rebate": "amount"
      },
      {
        "Penalty": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "taxHeadsBreakupRevenue": {
    "chartName": "DSS_PT_TAX_HEAD_BREAKUP_REVENUE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "tenantId", "column": "Boundary"}

    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "taxHeadsBreakupBoundaryDrill",
    "drillFields": [
      "Ward",
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Total Amount",
      "PT Tax",
      "Fire Cess",
      "Cancer Cess",
      "Rebate",
      "Penalty"
    ],
    "pathDataTypeMapping": [
      {
        "Total Amount": "amount"
      },
      {
        "PT Tax": "amount"
      },
      {
        "Fire Cess": "amount"
      },
      {
        "Cancer Cess": "amount"
      },
      {
        "Rebate": "amount"
      },
      {
        "Penalty": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "taxHeadsBreakupBoundaryDrill": {
  "chartName": "Tax head Breakup boundary",
  "queries": [
    {
      "module": "COMMON",
      "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
      "dateRefField": "dataObject.Bill.billDetails.receiptDate",
      "indexName": "dss-collection_v1",
      "aggrQuery": "{\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
    }
  ],
  "filterKeys": [
    {"key": "tenantId", "column": "Boundary"}
  ],
  "chartType": "table",
  "valueType": "number",
  "drillChart": "boundaryDrillDown",
  "drillFields": [
    "Ward",
    ""
  ],
  "documentType": "_doc",
  "action": "",
  "plotLabel": "Boundary",
  "aggregationPaths": [
    "Total Amount",
    "PT Tax",
    "Fire Cess",
    "Cancer Cess",
    "Rebate",
    "Penalty"
  ],
  "pathDataTypeMapping": [
    {
      "Total Amount": "amount"
    },
    {
      "PT Tax": "amount"
    },
    {
      "Fire Cess": "amount"
    },
    {
      "Cancer Cess": "amount"
    },
    {
      "Rebate": "amount"
    },
    {
      "Penalty": "amount"
    }
  ],
  "insight": {
  },
  "_comment": ""
},
  "_comment": "PT Tax heads Usage below",
  "taxHeadsBreakupUsage": {
    "chartName": "DSS_PT_TAX_HEAD_BREAKUP_USAGE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "usageId", "column": "Usage Type"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "taxHeadsBreakupUsageMinor",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Usage Type",
    "aggregationPaths": [
      "Total Amount",
      "PT Tax",
      "Fire Cess",
      "Cancer Cess",
      "Rebate",
      "Penalty"
    ],
    "pathDataTypeMapping": [
      {
        "Total Amount": "amount"
      },
      {
        "PT Tax": "amount"
      },
      {
        "Fire Cess": "amount"
      },
      {
        "Cancer Cess": "amount"
      },
      {
        "Rebate": "amount"
      },
      {
        "Penalty": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "taxHeadsBreakupUsageMinor": {
    "chartName": "",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "minorUsageId", "column": "Minor Usage Type"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "taxHeadsBreakupUsageSubMinor",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Minor Usage Type",
    "aggregationPaths": [
      "Total Amount",
      "PT Tax",
      "Fire Cess",
      "Cancer Cess",
      "Rebate",
      "Penalty"
    ],
    "pathDataTypeMapping": [
      {
        "Total Amount": "amount"
      },
      {
        "PT Tax": "amount"
      },
      {
        "Fire Cess": "amount"
      },
      {
        "Cancer Cess": "amount"
      },
      {
        "Rebate": "amount"
      },
      {
        "Penalty": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "taxHeadsBreakupUsageSubMinor": {
    "chartName": "",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Usage \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategorySubMinor.keyword\",\"size\":200},\"aggs\":{\"Total Amount\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.calculation.totalAmount\"}},\"PT Tax\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Fire Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_FIRE_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Cancer Cess\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_CANCER_CESS\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Rebate\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}},\"Penalty\":{\"filter\":{\"term\":{\"domainObject.propertyDetails.calculation.taxHeadEstimates.taxHeadCode.keyword\":\"PT_TIME_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.propertyDetails.calculation.taxHeadEstimates.estimateAmount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
      ""
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Sub Minor Usage Type",
    "aggregationPaths": [
      "Total Amount",
      "PT Tax",
      "Fire Cess",
      "Cancer Cess",
      "Rebate",
      "Penalty"
    ],
    "pathDataTypeMapping": [
      {
        "Total Amount": "amount"
      },
      {
        "PT Tax": "amount"
      },
      {
        "Fire Cess": "amount"
      },
      {
        "Cancer Cess": "amount"
      },
      {
        "Rebate": "amount"
      },
      {
        "Penalty": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "_comment": "PT Demand collection Boundary below",
  "demandCollectionIndexDDRRevenue": {
    "chartName": "DSS_PT_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "isMdmsEnabled": true,
    "filterKeys": [
      {"key": "tenantId", "column": "DDRs"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "demandCollectionIndexBoundaryRevenue",
    "action": "",
    "plotLabel": "DDRs",
    "isPostResponseHandler": true,
    "postAggregationTheory" : "repsonseToDifferenceOfDates",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "demandCollectionIndexBoundaryRevenue": {
    "chartName": "DSS_PT_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"size\":0,\"query\":{\"bool\":{\"adjust_pure_negative\":true,\"boost\":1}},\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "tenantId", "column": "Boundary"}
    ],
    "postAggregationTheory" : "repsonseToDifferenceOfDates",    "chartType": "table",
    "valueType": "number",
    "drillChart": "boundaryDrillDown",
    "drillFields": [
      "Ward",
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "boundaryDrillDown": {
    "kind": "drillDown",
    "chartName": "Boundary",
    "queries": [
      {
         "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Ward",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "_comment": "PT Demand collection Usage below",
  "demandCollectionIndexUsageRevenue": {
    "chartName": "DSS_PT_DEMAND_COLLECTION_USAGETYPE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\",\"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategoryMajor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "usageId", "column": "Usage Type"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "usageRevenueDrillDownMinor",
    "drillFields": [
      "Ward",
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Usage Type",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "usageRevenueDrillDownMinor": {
    "chartName": "",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "minorUsageId", "column": "Minor Usage Type"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "usageRevenueDrillDownSubMinor",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Minor Usage Type",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "usageRevenueDrillDownSubMinor": {
    "chartName": "",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"usageId\" : \"domainObject.propertyDetails.usageCategoryMajor.keyword\",\"minorUsageId\" : \"domainObject.propertyDetails.usageCategoryMinor.keyword\",\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"UsageType \":{\"terms\":{\"field\":\"domainObject.propertyDetails.units.usageCategorySubMinor.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Assessed Properties\":{\"value_count\":{\"field\":\"domainObject.propertyDetails.assessmentNumber.keyword\"}}}}}}"
      }
    ],
    "filterKeys": [

    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Sub Minor Usage Type",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Assessed Properties"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Assessed Properties": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "_comment": "TL Demand collection Boundary below",
  "licenseIssuedDDRRevenue": {
    "chartName": "DSS_TL_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "isMdmsEnabled": true,
    "filterKeys": [
      {"key": "tenantId", "column": "DDRs"}
    ],
    "isPostResponseHandler": true,
    "postAggregationTheory" : "repsonseToDifferenceOfDates",
    "chartType": "table",
    "valueType": "number",
    "drillChart": "licenseIssuedBoundaryRevenue",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "DDRs",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Total Licence Issued",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Total Licence Issued": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "licenseIssuedBoundaryRevenue": {
    "chartName": "DSS_TL_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"businessService.keyword\", \"tenantId\" : \"tenantIdForMunicipalCorporation.keyword\"}",
        "dateRefField": "",
        "indexName": "dss-target_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"tenantIdForMunicipalCorporation.keyword\",\"size\":1000},\"aggs\":{\"Target Collection\":{\"sum\":{\"field\":\"budgetProposedForMunicipalCorporation\"}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "tenantId", "column": "Boundary"}
    ],
    "postAggregationTheory" : "repsonseToDifferenceOfDates",
    "chartType": "table",
    "valueType": "number",
    "drillChart": "licenseIssuedBoundaryDrillDown",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Total Licence Issued",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Total Licence Issued": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "licenseIssuedBoundaryDrillDown": {
    "chartName": "",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Total Collection\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}},\"Transactions\":{\"value_count\":{\"field\":\"dataObject.transactionId.keyword\"}},\"Total Licence Issued\":{\"value_count\":{\"field\":\"domainObject.tradelicense.licensenumber.keyword\"}}}}}}"
      }
    ],
    "postAggregationTheory" : "repsonseToDifferenceOfDates",
    "chartType": "table",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Ward",
    "aggregationPaths": [
      "Total Collection",
      "Transactions",
      "Total Licence Issued",
      "Target Collection"
    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Transactions": "number"
      },
      {
        "Total Licence Issued": "number"
      },
      {
        "Target Collection": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "_comment": "TL Tax Heads Boundary below",
  "licenceTaxHeadsBreakupDDR": {
    "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"Tax\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Penalty\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Rebate\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}"
      }
    ],
    "isMdmsEnabled": true,
    "filterKeys": [
      {"key": "tenantId", "column": "DDRs"}
    ],
    "isPostResponseHandler": true,
    "chartType": "table",
    "valueType": "number",
    "drillChart": "licenceTaxHeadsBreakupBoundary",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "DDRs",
    "aggregationPaths": [
      "Tax",
      "Adhoc Penalty",
      "Adhoc Rebate"
    ],
    "pathDataTypeMapping": [
      {
        "Tax": "amount"
      },
      {
        "Adhoc Penalty": "amount"
      },
      {
        "Adhoc Rebate": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "licenceTaxHeadsBreakupBoundary": {
    "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"dataObject.tenantId.keyword\",\"size\":200},\"aggs\":{\"Tax\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Penalty\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Rebate\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "tenantId", "column": "Boundary"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "licenceTaxHeadsBreakupWard",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Tax",
      "Adhoc Penalty",
      "Adhoc Rebate"
    ],
    "pathDataTypeMapping": [
      {
        "Tax": "amount"
      },
      {
        "Adhoc Penalty": "amount"
      },
      {
        "Adhoc Rebate": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "licenceTaxHeadsBreakupWard": {
    "chartName": "DSS_TL_TAX_HEAD_BREAKUP_BOUNDARY",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"dataObject.tenantId\", \"district\" : \"dataObject.tenantData.cityDistrictCode\" }",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"domainObject.ward.name.keyword\",\"size\":200},\"aggs\":{\"Tax\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_TAX\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Penalty\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_PENALTY\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}},\"Adhoc Rebate\":{\"filter\":{\"term\":{\"domainObject.Bill.billDetails.billAccountDetails.taxHeadCode.keyword\":\"TL_ADHOC_REBATE\"}},\"aggs\":{\"amount\":{\"sum\":{\"field\":\"domainObject.Bill.billDetails.billAccountDetails.amount\"}}}}}}}}"
      }
    ],
    "filterKeys": [
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Tax",
      "Adhoc Penalty",
      "Adhoc Rebate"
    ],
    "pathDataTypeMapping": [
      {
        "Tax": "amount"
      },
      {
        "Adhoc Penalty": "amount"
      },
      {
        "Adhoc Rebate": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },

  "licenseIssued": {
    "chartName": "DSS_TL_LICENSE_ISSUED",
    "queries": [
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\": {\"License Issued\": {\"value_count\": {\"field\": \"Data.tradelicense.licensenumber.keyword\"}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"Data.tenantData.city.districtCode\", \r\n\"tenantId\" : \"Data.tradelicense.tenantid\" \r\n, \r\n\"businessService\" : \"dataObject.Bill.billDetails.businessServices\" \r\n}",
        "dateRefField": "Data.tradelicense.applicationdate"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "License Issued"
    ],
    "insight": {
    },
    "_comment": " licenseIssued is the Chart ID"
  },
  "cumulativeLicenseIssued": {
    "chartName": "DSS_TL_CUMULATIVE_LICENSE_ISSUED",
    "queries": [
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Trade Licence Issued\":{\"date_histogram\":{\"field\":\"Data.tradelicense.issueddate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.licensenumber\"}}}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.tradelicense.issueddate"
      },
      {
        "module": "TL",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"date_histogram\":{\"field\":\"Data.tradelicense.applicationDate\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tradelicense.applicationNumber.keyword\"}}}}}}",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantData.code\" ,\"district\" : \"Data.tenantData.city.districtCode\"}",
        "dateRefField": "Data.tradelicense.applicationDate"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Trade Licence Issued",
      "Total Application"
    ],
    "isCumulative": true,
    "interval": "month",
    "insight": {
    },
    "_comment": " Total Number of License having issued"
  },
  "licenseByLicenseType": {
    "chartName": "DSS_TL_LICENSE_BY_TYPE",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "dataObject.Bill.billDetails.receiptDate",
        "indexName": "dss-collection_v1",
        "aggrQuery": "{\"aggs\":{\"License Type\":{\"terms\":{\"field\":\"domainObject.tradelicense.licenseType.keyword\"},\"aggs\":{\"Licens Issued\":{\"sum\":{\"field\":\"dataObject.Bill.billDetails.amountPaid\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "License Type"
    ],
    "insight": {
    },
    "_comment": " License Application which are issued by License Type"
  },
  "licenseApplicationByStatus": {
    "chartName": "DSS_TL_LICENSE_BY_STATUS",
    "queries": [
      {
        "module": "TL",
        "requestQueryMap": "{\"module\" : \"dataObject.Bill.billDetails.businessService.keyword\", \"tenantId\" : \"Data.tenantData.code\", \"district\" : \"dataObject.tenantData.cityDistrictCode\"}",
        "dateRefField": "Data.tradelicense.issueddate",
        "indexName": "tlindex-v1",
        "aggrQuery": "{\"aggs\":{\"Status\":{\"terms\":{\"field\":\"Data.tradelicense.status.keyword\"},\"aggs\":{\"License Issued\":{\"value_count\":{\"field\":\"Data.tradelicense.status.keyword\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Status"
    ],
    "insight": {
    },
    "_comment": " License Application which are issued by License Type"
  },
  "slaAchieved": {
    "chartName": "DSS_SLA_ACHIEVED",
    "queries": [
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Application\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}"
      },
      {
        "module": "COMMON",
        "requestQueryMap": "{\r\n  \"module\" : \"businessService.keyword\", \n\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"withinSLA\":{\"range\":{\"script\":{\"lang\":\"painless\",\"source\":\"doc['Data.slaHours'].value\"},\"ranges\":[{\"key\":\"Within SLA\",\"from\":0,\"to\":360}]}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Total Application",
      "withinSLA"
    ],
    "insight": {
    },
    "_comment": " SLA Achieved Percentage "
  },

  "completionRate": {
    "chartName": "DSS_PGR_COMPLETION_RATE",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}},\"Closed Complaints\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "percentage",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "percentage",
    "aggregationPaths": [
      "Closed Complaints",
      "Total Complaints"
    ],
    "insight": {
    },
    "_comment": " Total Number of Complaints "
  },
  "totalComplaints": {
    "chartName": "DSS_PGR_TOTAL_COMPLAINTS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Complaints\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Total Complaints"
    ],
    "insight": {
    },
    "_comment": " Total Number of Complaints "
  },
  "closedComplaints": {
    "chartName": "DSS_PGR_CLOSED_COMPLAINTS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}}}}}}}"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "drillChart": "none",
    "documentType": "_doc",
    "action": "",
    "aggregationPaths": [
      "Closed Complaints"
    ],
    "insight": {
    },
    "_comment": " Total Number of Closed Complaints "
  },
  "cumulativeClosedComplaints": {
    "chartName": "DSS_TOTAL_CUMULATIVE_CLOSED_COMPLAINTS",
    "queries": [
      {
        "module": "PGR",
        "dateRefField": "Data.dateOfComplaint",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Total Complaints\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}},\"Closed Complaints\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Closed\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\",\"rejected\",\"resolved\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}},\"Reopened Complaints\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"Reopened\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"reopened\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.tenantId.keyword\"}}}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Closed Complaints",
      "Reopened Complaints",
      "Total Complaints"

    ],
    "isCumulative": true,
    "interval": "month",
    "insight": {
    },
    "_comment": " "
  },
  "totalComplaintsbySource": {
    "chartName": "DSS_PGR_TOTAL_COMPLAINTS_BY_SOURCE",
    "queries": [
      {
        "module": "PGR",
        "dateRefField": "Data.dateOfComplaint",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Ivr\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"ivr\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"ivr\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Web\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"web\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"web\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Whatsapp\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"whatapp\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"whatsapp\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Mobileapp\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"mobileapp\":{\"filter\":{\"terms\":{\"Data.source.keyword\":[\"mobileapp\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Ivr",
      "Web",
      "Whatsapp",
      "Mobileapp"
    ],
    "isCumulative": false,
    "interval": "month",
    "insight": {
    },
    "_comment": " "
  },
  "totalComplaintsbyStatus": {
  "chartName": "DSS_PGR_TOTAL_COMPLAINTS_BY_STATUS",
  "queries": [
    {
      "module": "PGR",
      "dateRefField": "Data.dateOfComplaint",
      "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
      "indexName": "pgrindex-v1",
      "aggrQuery": "{\"aggs\":{\"Resolved\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"resolved\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"resolved\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Open\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"open\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"open\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}},\"Closed\":{\"date_histogram\":{\"field\":\"Data.dateOfComplaint\",\"interval\":\"intervalvalue\"},\"aggs\":{\"closed\":{\"filter\":{\"terms\":{\"Data.status.keyword\":[\"closed\"]}},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}}}"
    }
  ],
  "chartType": "line",
  "valueType": "number",
  "action": "",
  "drillChart": "none",
  "documentType": "_doc",
  "aggregationPaths": [
    "Resolved",
    "Open",
    "Closed"
  ],
  "isCumulative": false,
  "interval": "month",
  "insight": {
  },
  "_comment": " "
},

  "complaintsByStatus": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_STATUS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By Status\":{\"terms\":{\"field\":\"Data.status.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By Status"
    ],
    "insight": {
    },
    "_comment": " Complaints By Their Statuses"
  },
  "complaintsByChannel": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_CHANNELS",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By Channels\":{\"terms\":{\"field\":\"Data.source.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By Channels"
    ],
    "insight": {
    },
    "_comment": " Top 3 Channels For Complaints"
  },
  "complaintsByCategory": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_CATEGORY",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By Category\":{\"terms\":{\"field\":\"Data.complainCategory.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By Category"
    ],
    "insight": {
    },
    "_comment": " Top 3 Channels For Complaints"
  },
  "complaintsByTenant": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_TENANT",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By Tenant\":{\"terms\":{\"field\":\"Data.tenantId.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By Tenant"
    ],
    "insight": {
    },
    "_comment": " Complaints by Tenant"
  },
  "complaintsByDistrict": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_DISTRICT",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By District\":{\"terms\":{\"field\":\"Data.tenantData.city.districtName.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By District"
    ],
    "insight": {
    },
    "_comment": " Complaints by District"
  },
  "complaintsByDepartment": {
    "chartName": "DSS_PGR_COMPLAINTS_BY_DEPARTMENT",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Complaints By Department\":{\"terms\":{\"field\":\"Data.department.keyword\"},\"aggs\":{\"Count\":{\"value_count\":{\"field\":\"Data.dateOfComplaint\"}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Complaints By Department"
    ],
    "insight": {
    },
    "_comment": " Complaints by Department"
  },
  "pgrStatusByTenant": {
    "chartName": "DSS_PGR_STATUS_BY_TENANT",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"ULBs \":{\"terms\":{\"field\":\"Data.tenantId.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "tenantId", "column": "Boundary"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "pgrStatusWardDrillDown",
    "drillFields": [
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Boundary",
    "aggregationPaths": [
      "Open",
      "Reopen",
      "Assigned",
      "Closed",
      "Resolved",
      "Rejected",
      "ReassignRequested"
    ],
    "pathDataTypeMapping": [
      {
        "Open": "number"
      },
      {
        "Reopen": "number"
      },
      {
        "Assigned": "number"
      },
      {
        "Closed": "number"
      },
      {
        "Resolved": "number"
      },
      {
        "Rejected": "number"
      },
      {
        "ReassignRequested": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "pgrStatusWardDrillDown": {
    "chartName": "",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Ward \":{\"terms\":{\"field\":\"Data.complaintWard.name.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}"
      }
    ],
    "filterKeys": [
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "drillFields": [
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Complaint Ward",
    "aggregationPaths": [
      "Open",
      "Reopen",
      "Assigned",
      "Closed",
      "Resolved",
      "Rejected",
      "ReassignRequested"
    ],
    "pathDataTypeMapping": [
      {
        "Open": "number"
      },
      {
        "Reopen": "number"
      },
      {
        "Assigned": "number"
      },
      {
        "Closed": "number"
      },
      {
        "Resolved": "number"
      },
      {
        "Rejected": "number"
      },
      {
        "ReassignRequested": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "pgrStatusByDepartment": {
    "chartName": "DSS_PGR_STATUS_BY_DEPARTMENT",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" }",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Department \":{\"terms\":{\"field\":\"Data.department.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}"
      }
    ],
    "filterKeys": [
      {"key": "departmentId", "column": "Department"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "pgrStatusCategoryDrillDown",
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Department",
    "aggregationPaths": [
      "Open",
      "Reopen",
      "Assigned",
      "Closed",
      "Resolved",
      "Rejected",
      "ReassignRequested"
    ],
    "pathDataTypeMapping": [
      {
        "Open": "number"
      },
      {
        "Reopen": "number"
      },
      {
        "Assigned": "number"
      },
      {
        "Closed": "number"
      },
      {
        "Resolved": "number"
      },
      {
        "Rejected": "number"
      },
      {
        "ReassignRequested": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "pgrStatusCategoryDrillDown": {
    "chartName": "",
    "queries": [
      {
        "module": "PGR",
        "requestQueryMap": "{\"tenantId\" : \"Data.tenantId.keyword\" , \"departmentId\" : \"Data.department.keyword\"}",
        "dateRefField": "Data.dateOfComplaint",
        "indexName": "pgrindex-v1",
        "aggrQuery": "{\"aggs\":{\"Category \":{\"terms\":{\"field\":\"Data.complainCategory.keyword\",\"size\":1000},\"aggs\":{\"Closed Complaints\":{\"filters\":{\"filters\":{\"Open\":{\"match\":{\"Data.status.keyword\":\"open\"}},\"Reopen\":{\"match\":{\"Data.status.keyword\":\"reopen\"}},\"Assigned\":{\"match\":{\"Data.status.keyword\":\"assigned\"}},\"Closed\":{\"match\":{\"Data.status.keyword\":\"closed\"}},\"Resolved\":{\"match\":{\"Data.status.keyword\":\"resolved\"}},\"Rejected\":{\"match\":{\"Data.status.keyword\":\"rejected\"}},\"ReassignRequested\":{\"match\":{\"Data.status.keyword\":\"reassignrequested\"}}}}}}}}}"
      }
    ],
    "filterKeys": [
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "drillFields": [
      ""
    ],
    "documentType": "_doc",
    "action": "",
    "plotLabel": "Complaint Category",
    "aggregationPaths": [
      "Open",
      "Reopen",
      "Assigned",
      "Closed",
      "Resolved",
      "Rejected",
      "ReassignRequested"
    ],
    "pathDataTypeMapping": [
      {
        "Open": "number"
      },
      {
        "Reopen": "number"
      },
      {
        "Assigned": "number"
      },
      {
        "Closed": "number"
      },
      {
        "Resolved": "number"
      },
      {
        "Rejected": "number"
      },
      {
        "ReassignRequested": "number"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },

  "_comment": "W&S charts below-----------------------------------------------------------------------",
  "wsTotalCollection": {
    "chartName": "DSS_TOTAL_COLLECYION",
    "queries": [
      {
        "module": "W&S",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"approved\":{\"sum\":{\"field\":\"totalamount\"}}}}}}",
        "requestQueryMap": "{\r\n  \"district\" : \"districtname\", \r\n\"city\" : \"cityname\" \r\n}",
        "dateRefField": "@timestamp"
      }
    ],
    "chartType": "metric",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "aggregationPaths": [
      "Total Collection"
    ],
    "insight": {
    },
    "_comment": "W&S total collections "
  },
  "wsCumulativeCollections": {
    "chartName": "DSS_TOTAL_CUMULATIVE_COLLECTION",
    "queries": [
      {
        "module": "W&S",
        "dateRefField": "@timestamp",
        "requestQueryMap": "{\"city\" : \"cityname\"}",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"Water Sewerage Collections\":{\"date_histogram\":{\"field\":\"@timestamp\",\"interval\":\"intervalvalue\"},\"aggs\":{\"AGGR\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"approved\":{\"sum\":{\"field\":\"totalamount\"}}}}}}}}"
      }
    ],
    "chartType": "line",
    "valueType": "number",
    "action": "",
    "drillChart": "none",
    "documentType": "_doc",
    "aggregationPaths": [
      "Water Sewerage Collections"
    ],
    "isCumulative": true,
    "interval": "month",
    "insight": {
    },
    "_comment": " "
  },
  "wsCollectionByUsage": {
    "chartName": "DSS_COLLECTION_BY_USAGE",
    "queries": [
      {
        "module": "W&S",
        "dateRefField": "@timestamp",
        "requestQueryMap": "{\r\n  \"district\" : \"districtname\", \r\n\"city\" : \"cityname\" \r\n}",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"Usage Type\":{\"terms\":{\"field\":\"consumertype.keyword\"},\"aggs\":{\"AGGR\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"approved\":{\"sum\":{\"field\":\"totalamount\"}}}}}}}}"
      }
    ],
    "chartType": "pie",
    "valueType": "number",
    "action": "",
    "documentType": "_doc",
    "drillChart": "none",
    "aggregationPaths": [
      "Usage Type"
    ],
    "insight": {
    },
    "_comment": " "
  },

  "wsFinancialIndicatorUlb": {
    "chartName": "DSS_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "W&S",
        "requestQueryMap": "{ \"usageId\" : \".keyword\",\"minorUsageId\" : \".keyword\", \"tenantId\" : \"cityname.keyword\", \"district\" : \"districtname.keyword\" }",
        "dateRefField": "@timestamp",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "demandbillconsumers",
        "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "projecteddemand-consumers",
        "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
      }
    ],
    "isMdmsEnabled": false,
    "filterKeys": [
      {"key": "tenantId", "column": "ULB"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "wsFinancialIndicatorWard",
    "action": "",
    "plotLabel": "DDRs",
    "isPostResponseHandler": true,
    "postAggregationTheory" : "",
    "aggregationPaths": [
      "Total Collection",
      "Total Receipt",
      "No of Bill",
      "Project Demand"

    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Total Receipt": "number"
      },
      {
        "No of Bill": "number"
      },
      {
        "Project Demand": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "wsFinancialIndicatorWard": {
    "chartName": "DSS_DEMAND_COLLECTION_BOUNDARY",
    "queries": [
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\", \"district\" : \"districtname.keyword\" }",
        "dateRefField": "@timestamp",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Receipt\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"receipt\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "demandbillconsumers",
        "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "projecteddemand-consumers",
        "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"Project Demand\":{\"sum\":{\"field\":\"projecteddemand\"}}}}}}"
      }
    ],
    "isMdmsEnabled": false,
    "filterKeys": [

    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "action": "",
    "plotLabel": "Ward",
    "isPostResponseHandler": true,
    "postAggregationTheory" : "",
    "aggregationPaths": [
      "Total Collection",
      "Total Receipt",
      "No of Bill",
      "Project Demand"

    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Total Receipt": "number"
      },
      {
        "No of Bill": "number"
      },
      {
        "Project Demand": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },

  "wsTaxHeadUlb": {
    "chartName": "DSS_TAX_HEAD_BOUNDARY",
    "queries": [
      {
        "module": "W&S",
        "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"district\" : \"districtname.keyword\" }",
        "dateRefField": "@timestamp",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Reciept\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"reciept\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "demandbillconsumers",
        "aggrQuery": "{\"aggs\":{\"ULB\":{\"terms\":{\"field\":\"cityname.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}},\"Late charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"penalty\":{\"sum\":{\"field\":\"penaltycollection\"}}}},\"Interest\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"interest\":{\"sum\":{\"field\":\"interestcollection\"}}}},\"Advance\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"advancecollection\"}}}},\"Current Charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"currentcharges\"}}}},\"Arrear Charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"arrearcharges\"}}}}}}}}"
      }
    ],
    "isMdmsEnabled": false,
    "filterKeys": [
      {"key": "tenantId", "column": "ULB"}
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "wsTaxHeadWard",
    "action": "",
    "plotLabel": "ULB",
    "postAggregationTheory" : "",
    "aggregationPaths": [
      "Total Collection",
      "Total Receipt",
      "No of Bill",
      "Late charges",
      "Interest",
      "Advance",
      "Current Charges",
      "Arrear Charges"

    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Total Receipt": "number"
      },
      {
        "No of Bill": "number"
      },
      {
        "Late charges": "amount"
      },
      {
        "Interest": "amount"
      },
      {
        "Advance": "amount"
      },
      {
        "Current Charges": "amount"
      },
      {
        "Arrear Charges": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  },
  "wsTaxHeadWard": {
    "chartName": "DSS_TAX_HEAD_BOUNDARY",
    "queries": [
      {
        "module": "W&S",
        "requestQueryMap": "{\"tenantId\" : \"cityname.keyword\", \"district\" : \"districtname.keyword\" }",
        "dateRefField": "@timestamp",
        "indexName": "receipts-consumers",
        "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block\"},\"aggs\":{\"Total Collection\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"collection\":{\"sum\":{\"field\":\"totalamount\"}}}},\"Total Reciept\":{\"filter\":{\"term\":{\"status\":\"Approved\"}},\"aggs\":{\"reciept\":{\"value_count\":{\"field\":\"receiptnumber.keyword\"}}}}}}}}"
      },
      {
        "module": "W&S",
        "requestQueryMap": "{ \"tenantId\" : \"cityname.keyword\"}",
        "dateRefField": "@timestamp",
        "indexName": "demandbillconsumers",
        "aggrQuery": "{\"aggs\":{\"Ward\":{\"terms\":{\"field\":\"block.keyword\"},\"aggs\":{\"No of Bill\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"approved\":{\"value_count\":{\"field\":\"installmentfrom.keyword\"}}}},\"Late charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"penalty\":{\"sum\":{\"field\":\"penaltycollection\"}}}},\"Interest\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"interest\":{\"sum\":{\"field\":\"interestcollection\"}}}},\"Advance\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"advancecollection\"}}}},\"Current Charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"currentcharges\"}}}},\"Arrear Charges\":{\"filter\":{\"term\":{\"billgenerated\":true}},\"aggs\":{\"advance\":{\"sum\":{\"field\":\"arrearcharges\"}}}}}}}}"
      }
    ],
    "isMdmsEnabled": false,
    "filterKeys": [
    ],
    "chartType": "table",
    "valueType": "number",
    "drillChart": "",
    "action": "",
    "plotLabel": "Ward",
    "postAggregationTheory" : "",
    "aggregationPaths": [
      "Total Collection",
      "Total Receipt",
      "No of Bill",
      "Late charges",
      "Interest",
      "Advance",
      "Current Charges",
      "Arrear Charges"

    ],
    "pathDataTypeMapping": [
      {
        "Total Collection": "amount"
      },
      {
        "Total Receipt": "number"
      },
      {
        "No of Bill": "number"
      },
      {
        "Late charges": "amount"
      },
      {
        "Interest": "amount"
      },
      {
        "Advance": "amount"
      },
      {
        "Current Charges": "amount"
      },
      {
        "Arrear Charges": "amount"
      }
    ],
    "insight": {
    },
    "_comment": ""
  }
}
